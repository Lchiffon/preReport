}
if(missing(lengthVector)){
lengthVector = length(vector)
}else if(length(vector) != lengthVector){
warning(sprintf("The length of %s is not correct!",name))
}
if(class(vector) != class){
stop(sprintf("%s is not a %s object!",name,class))
}
}
##
vectorCheck(iris,name = "Range")
vectorCheck(1:10/10,lengthVector = 3,name = "Range")
dataFrameCheck(iris)
## Check the class of inputData
dataFrameCheck = function(inputData){
## Support Data frame, tbl(from dplyr) and data.table
if(any(class(inputData) == "data.frame")){
inputData = as.data.frame(inputData)
}else{
stop("inputData is not a data frame!")
}
if(dim(inputData) < 2){
warning("Ther is only one row in the data frame! ")
}
return(inputData)
}
## Test
dataFrameCheck(iris)
substitute(a)
substitute(iris)
ls()
substitute(NAs)
library(networkD3)
?forceNetwork
forceNetwork(Links = MisJson$links, Nodes = MisJson$nodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, bounded = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, zoom = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, zoom = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, zoom = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, zoom = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, zoom = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 1, zoom = TRUE)
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4, zoom = TRUE)
library(preReport)
?sample
library(preReport)
test
testData
naReport(testData)
class(1:3)
class(c(0.11,0.3))
library(preReport)
naReport(testData)
library(preReport)
naReport(testData)
testData
inputData=testData
range = c(0, 0.4)
if(missing(inputData)){
stop("You should input a data.frame.")
}
inputData = dataFrameCheck(inputData)
library(preReport)
inputData = dataFrameCheck(inputData)
library(preReport)
dataFrameCheck()
dataFrameCheck
library(preReport)
dataFrameCheck
library(preReport)
uniqueReport(testData)
inputData = testData
n = dim(inputData)[1]
uniqN = dim(unique(inputData))[1]
n
uniqN
library(preReport)
uniqueReport(testData)
library(preReport)
uniqueReport(testData)
testData_new = naProcess(testData)
test
testData_new
unique(testData_new)
dim(unique(testData_new))[1]
dim(inputData_new)[1]
dim(testData_new)[1]
1/52
library(preReport)
uniqueReport(testData)
library(preReport)
uniqueReport(testData)
names(iris$Sepal.Length)
sapply(iris,names)
sapply(iris,substitude(names))
sapply(iris,substitute(names))
sapply(iris,function(x) substitute(names(x)))
hist(iris$Sepal.Length)
library(ggplot2)
qplot(iris$Sepal.Length)
qplot(iris$Sepal.Length)+geomsmooth()
qplot(iris$Sepal.Length)+geoms_mooth()
qplot(iris$Sepal.Length)+geom_smooth()
qplot(iris$Sepal.Length,geom = c("bin","smooth"))
qplot(iris$Sepal.Length,geom = c("bar","smooth"))
qplot(iris$Sepal.Length,geom = c("bar","freq"))
qplot(iris$Sepal.Length,geom = c("bar","density"))
new.numeric = function(a){
summary(a)
}
new.character = function(a){
cat(a)
}
new(1:4)
new("a")
new1.numeric = function(a){
summary(a)
}
new1.character = function(a){
cat(a)
}
new1("a")
?setMethod
setMethod(new1,"numeric",new1.numeric)
setMethod("new1","numeric",new1.numeric)
setGeneric("new1","numeric",new1.numeric)
?print
print
new1 = function(x) UseMethod(x)
new1(1:3)
new1("aa")
setMethod("new1","numeric",new1.numeric)
setMethod("new1","character",new1.character)
new1("aa")
new1(1:4)
rm(list =ls())
new1.numeric = function(a){
summary(a)
}
new1.character = function(a){
cat(a)
}
new1 = function(a) UseMethod(a)
setMethod("new1","numeric",new1.numeric)
setMethod("new1","character",new1.character)
cat("'\n\n<!DOCTYPE html>\n<html>\n<head><meta http-equiv="Content-Type" content="text/html; charset=gb2312" /><link href="http://webresource.ctrip.com/styles/common/cui110425.css" type="text/css" rel="stylesheet" /><link href="http://webresource.c-ctrip.com/ResCRMOnline/R2/MyCtrip/css/private_myctrip.css?20141127" type="text/css" rel="stylesheet" /><title>\r\n\t\xb6\xa9\xb5\xa5\xd6\xd0\xd0\xc4-\xd0\xaf\xb3\xcc\xc2\xc3\xd0\xd0\xcd\xf8\r\n</title></head>\n<body id="mainbody">\n    <form name="aspnetForm" method="post" action="AllOrder.aspx" id="aspnetForm">\r\n<div>\r\n<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUJMTk2MjIyMTIyZGR8aek4V0ZyBJsyGZwyHlYfg4qIKw==" />\r\n</div>\r\n\n        <input type="hidden" id="CorrelationId" name="CorrelationId" value="8374220425185557347"/><link href="http://webresource.c-ctrip.com/ResCRMOnline/R1/pageheader/css/PageHeader_v2.css?temp=20151125" rel="stylesheet" />\r\n    \r\n    <div class="cui_hd_cont">\r\n  <div id="cui_hd" class="cui_hd"><input type="hidden" id="_searchboxNo_" value="ws_www20140409"><input type="hidden" id="_newHeaderFlag_" value="true"><div class="ctriplogo"><a href="http://www.ctrip.com" title="\xd0\xaf\xb3\xcc\xc2\xc3\xd0\xd0\xcd\xf8">\xd0\xaf\xb3\xcc\xc2\xc3\xd0\xd0\xcd\xf8</a></div>\r\n    <div class="cui_search"><input type="text" id="_allSearchKeyword" onfocus="_historyResultDiv();" onkeydown="_allSearchEnterIn(this,event);" onkeyup="_callMCtripData(this.value,event);" autocomplete="off"><button type="button" id="search_button_global"></button><div class="cui_search_list" id="_allSearchResult" style="display:none;"></div>\r\n    </div>\r\n    <div class="nav-bar">\r\n      <ul class="language">\r\n        <li><a href="http://www.ctrip.com/" rel="nofollow" class="selected" id="cui_lang_en" onmouseover="this.className= \'selected language_current\';document.getElementById(\'cui_lang_list\').parentNode.style.display=\'block\';" onmouseout="this.className= \'selected\';document.getElementById(\'cui_lang_list\').parentNode.style.display=\'none\';"><span><em class="ico-langgb"></em>\xbc\xf2\xcc\xe5\xd6\xd0\xce\xc4<b class="arrow"></b></span></a><div class="language_wrap drowndrop" style="display: none;" onmouseover="document.getElementById(\'cui_lang_en\').className= \'selected language_current\';this.style.display=\'block\';" onmouseout="document.getElementById(\'cui_lang_en\').className= \'selected\';this.style.display=\'none\';">\r\n            <ul class="language_list" id="cui_lang_list">\r\n              <li class="first"><a class="language_big5" href="http://www.ctrip.com.hk/">\xb7\xb1\xcc\xe5\xd6\xd0\xce\xc4</a></li>\r\n              <li><a class="language_en" href="http://english.ctrip.com/">English</a></li>\r\n              <li><a class="language_jap" href="http://jp.ctrip.com/">\xc8\xd5\xd3\xef\xb0\xe6</a></li>\r\n              <li><a class="language_korea" href="http://www.ctrip.co.kr/">\xba\xab\xd3\xef\xb0\xe6</a></li>\r\n              <li><a class="language_sg" href="http://www.ctrip.sg/">Singapore</a></li>\r\n              <li><a class="language_id" href="http://www.ctrip.co.id/">Bahasa Indonesia</a></li>\r\n              <li><a class="language_my" href="http://www.ctrip.my/">Bahasa Malaysia</a></li>\r\n              <li><a class="language_th" href="http://www.ctrip.co.th/">&#xE20;&#xE32;&#xE29;&#xE32;&#xE44;&#xE17;&#xE22;</a></li>\r\n              <li><a class="language_de" href="http://de.ctrip.com/">Deutsch</a></li>\r\n              <li><a class="language_fr" href="http://fr.ctrip.com/">Fran&#xE7;ais</a></li>\r\n              <li><a class="language_es" href="http://es.ctrip.com/">Espa&#xF1;ol</a></li>\r\n              <li class="last"><a class="language_ru" href="http://ru.ctrip.com/">\xa7\xb2\xa7\xe5\xa7\xe3\xa7\xe3\xa7\xdc\xa7\xda\xa7\xdb</a></li>\r\n            </ul>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <ul class="cui_service">\r\n        <li><a target="_blank" rel="nofollow" href="http://kefu.ctrip.com">\xbf\xcd\xb7\xfe\xd6\xd0\xd0\xc4\r\n              </a></li>\r\n      </ul>\r\n      <ul class="cui_service service_1180">\r\n        <li><a href="#" class="service_tel" id="cui_service_cn" onmouseover="this.className= \'service_tel service_current\';document.getElementById(\'cui_service_tel_list\').style.display=\'block\';" onmouseout="this.className= \'service_tel\';document.getElementById(\'cui_service_tel_list\').style.display=\'none\';"><span title="\xc3\xe2\xbe\xb3\xc4\xda\xb3\xa4\xbb\xb0\xb7\xd1">\r\n                    \xb9\xfa\xc4\xda\xa3\xba<em class="service_telnum">1010-6666</em><b class="arrow"></b></span></a><div class="service_wrap drowndrop" id="cui_service_tel_list" onmouseover="document.getElementById(\'cui_service_cn\').className= \'service_tel service_current\';this.style.display=\'block\';" onmouseout="document.getElementById(\'cui_service_cn\').className= \'service_tel\';document.getElementById(\'cui_service_tel_list\').style.display=\'none\';">\r\n            <ul class="service_list">\r\n              <li>\r\n                <dl>\r\n                  <dd><span style="color:#999">\xa3\xa8\xbb\xf2\xa3\xa9</span><em>400-820-6666</em></dd>\r\n                  <dd>\r\n                          \xcf\xe3\xb8\xdb\xa3\xba<em>+852-3610-6666</em></dd>\r\n                  <dd>\r\n                          \xba\xa3\xcd\xe2\xa3\xba<em>+86-21-3406-4888</em></dd>\r\n                </dl>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <ul class="cui_wireless" id="head_float_level">\r\n        <li><a class="wireless" target="_blank" rel="nofollow" href="http://app.ctrip.com"><i></i></a></li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div id="cui_nav" class="cui_nav_single">\r\n  <div class="base_nav">\r\n    <ul id="cui_nav_ul" class="cui_nav cui_content">\r\n      <li id="cui_nav_home"><a titledec="\xca\xd7\xd2\xb3" class="cui_nav_non" id="c_ph_hp" href="http://www.ctrip.com"><span>\xca\xd7\xd2\xb3</span></a></li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_hotel"><a id="a_hotelLink" titledec="\xbe\xc6\xb5\xea" class="cui_nav_hotel cui_nav_has" href="http://hotels.ctrip.com"><span>\xbe\xc6\xb5\xea</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav" id="div_hotel">\r\n            <li><a titledec="\xb9\xfa\xc4\xda\xbe\xc6\xb5\xea" id="c_ph_hotel_h" href="http://hotels.ctrip.com">\xb9\xfa\xc4\xda\xbe\xc6\xb5\xea\r\n                  </a></li>\r\n            <li><a titledec="\xba\xa3\xcd\xe2\xbe\xc6\xb5\xea" id="c_ph_hoteli_h" href="http://hotels.ctrip.com/international/">\xba\xa3\xcd\xe2\xbe\xc6\xb5\xea\r\n                  </a></li>\r\n            <li><a titledec="\xcd\xc5\xb9\xba" id="c_ph_tuan_h" href="http://tuan.ctrip.com">\xcd\xc5\xb9\xba\r\n                  </a></li>\r\n            <li><a titledec="\xcc\xd8\xbb\xdd\xbe\xc6\xb5\xea" id="c_ph_hotsale_h" href="http://hotels.ctrip.com/hotsale">\xcc\xd8\xbb\xdd\xbe\xc6\xb5\xea<i class="cui_ico_new" style="left:42px;"></i></a></li>\r\n            <li><a rel="nofollow" titledec="\xcd\xbe\xbc\xd2\xb9\xab\xd4\xa2" id="c_ph_tujia_h" href="http://hotels.ctrip.com/tujia/">\xcd\xbe\xbc\xd2\xb9\xab\xd4\xa2\r\n                  </a></li>\r\n            <li><a titledec="\xbe\xc6\xb5\xea+\xbe\xb0\xb5\xe3" id="c_ph_taocanj_v" href="http://taocan.ctrip.com/sh/HotelDefault.aspx?fluxentrance=10405&amp;FromMenu=hotel">\xbe\xc6\xb5\xea+\xbe\xb0\xb5\xe3\r\n                  </a></li>\r\n            <li><a titledec="\xbf\xcd\xd5\xbb\xc3\xf1\xcb\xde" id="c_ph_inn_h" href="http://inn.ctrip.com">\xbf\xcd\xd5\xbb\xc3\xf1\xcb\xde\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/HotelOrderList.aspx">\xbe\xc6\xb5\xea\xb6\xa9\xb5\xa5 &gt;\r\n                  </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_vac"><a id="a_vacationLink" titledec="\xc2\xc3\xd3\xce" class="cui_nav_vac cui_nav_has" href="http://vacations.ctrip.com"><span>\xc2\xc3\xd3\xce</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav" id="div_vacation">\r\n            <li><a titledec="\xc2\xc3\xd3\xce\xca\xd7\xd2\xb3" id="c_ph_vacations_v" href="http://vacations.ctrip.com">\xc2\xc3\xd3\xce\xca\xd7\xd2\xb3\r\n                  </a></li>\r\n            <li><a titledec="\xd6\xdc\xc4\xa9\xd3\xce" id="c_ph_around_v" href="http://you.ctrip.com/around/">\xd6\xdc\xc4\xa9\xd3\xce\r\n                  </a></li>\r\n            <li><a titledec="\xb8\xfa\xcd\xc5\xd3\xce" id="c_ph_vacationsd_v" href="http://vacations.ctrip.com/grouptravel/">\xb8\xfa\xcd\xc5\xd3\xce\r\n                  </a></li>\r\n            <li><a titledec="\xd7\xd4\xd3\xc9\xd0\xd0" id="c_ph_taocan_v" href="http://taocan.ctrip.com">\xd7\xd4\xd3\xc9\xd0\xd0\r\n                  </a></li>\r\n            <li><a titledec="\xd3\xca\xc2\xd6" id="c_ph_cruise_v" href="http://cruise.ctrip.com/">\xd3\xca\xc2\xd6\r\n                  </a></li>\r\n            <li><a titledec="\xbe\xc6\xb5\xea+\xbe\xb0\xb5\xe3" id="c_ph_taocanj_v" href="http://taocan.ctrip.com/sh/">\xbe\xc6\xb5\xea+\xbe\xb0\xb5\xe3<span class="cui_ico_notejj"></span></a></li>\r\n            <li><a titledec="\xb5\xb1\xb5\xd8\xcd\xe6\xc0\xd6" id="c_ph_huodong_v" href="http://huodong.ctrip.com/">\xb5\xb1\xb5\xd8\xcd\xe6\xc0\xd6\r\n                  </a></li>\r\n            <li><a titledec="\xd6\xf7\xcc\xe2\xd3\xce" id="c_ph_zhtiyou_v" href="http://vacations.ctrip.com/themetravel/">\xd6\xf7\xcc\xe2\xd3\xce<span class="cui_ico_new" style="left:28px;"></span></a></li>\r\n            <li><a titledec="\xb0\xfc\xcd\xc5\xb6\xa8\xd6\xc6" id="c_ph_baotuan_v" href="http://vacations.ctrip.com/dingzhi">\xb0\xfc\xcd\xc5\xb6\xa8\xd6\xc6\r\n                  </a></li>\r\n            <li><a titledec="\xd3\xce\xd1\xa7" id="c_ph_youxue_v" href="http://vacations.ctrip.com/youxue">\xd3\xce\xd1\xa7\r\n                  </a></li>\r\n            <li><a titledec="\xc7\xa9\xd6\xa4" id="c_ph_visa_v" href="http://vacations.ctrip.com/visa">\xc7\xa9\xd6\xa4\r\n                  </a></li>\r\n            <li><a titledec="\xc6\xf3\xd2\xb5\xbb\xe1\xbd\xb1" id="c_ph_mice_v" href="http://vacations.ctrip.com/mice">\xc6\xf3\xd2\xb5\xbb\xe1\xbd\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xb6\xa5\xbc\xb6\xd3\xce" href="http://www.hhtravel.com/#ctm_ref=hh_ct_thp_nav" target="_blank" rel="nofollow" id="c_ph_hh_v">\xb6\xa5\xbc\xb6\xd3\xce</a></li>\r\n            <li><a titledec="\xb0\xae\xcd\xe6\xbb\xa7\xcd\xe2" id="c_ph_golf_v" href="http://pages.ctrip.com/ctt/marketing/">\xb0\xae\xcd\xe6\xbb\xa7\xcd\xe2\r\n                  </a></li>\r\n            <li><a titledec="\xb1\xa3\xcf\xd5" id="c_ph_insurance_v" href="http://vacations.ctrip.com/insurance">\xb1\xa3\xcf\xd5\r\n                  </a></li>\r\n            <li><a titledec="\xcc\xd8\xc2\xf4\xbb\xe3" id="c_ph_deals_v" href="http://vacations.ctrip.com/deals">\xcc\xd8\xc2\xf4\xbb\xe3\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/PkgOrderList.aspx">\xc2\xc3\xd3\xce\xb6\xa9\xb5\xa5 &gt;\r\n                  </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_flight"><a id="a_flightLink" titledec="\xbb\xfa\xc6\xb1" class="cui_nav_flight cui_nav_has" href="http://flights.ctrip.com"><span>\xbb\xfa\xc6\xb1</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul id="div_flight" class="cui_sub_nav">\r\n            <li><a titledec="\xb9\xfa\xc4\xda\xbb\xfa\xc6\xb1" id="c_ph_flights_f" href="http://flights.ctrip.com">\xb9\xfa\xc4\xda\xbb\xfa\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xb9\xfa\xbc\xca\xbb\xfa\xc6\xb1" id="c_ph_flightsi_f" href="http://flights.ctrip.com/international/">\xb9\xfa\xbc\xca\xbb\xfa\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xbb\xfa+\xbe\xc6" id="c_ph_taocan_f" href="http://taocan.ctrip.com">\xbb\xfa+\xbe\xc6\r\n                  </a></li>\r\n            <li><a titledec="\xba\xbd\xb0\xe0\xb6\xaf\xcc\xac" id="c_ph_flightstoolbox_f" href="http://flights.ctrip.com/actualtime">\xba\xbd\xb0\xe0\xb6\xaf\xcc\xac\r\n                  </a></li>\r\n            <li><a rel="nofollow" titledec="\xd6\xb5\xbb\xfa\xd1\xa1\xd7\xf9" id="c_ph_bookseat_f" href="http://flights.ctrip.com/domestic/checkinseat/index">\xd6\xb5\xbb\xfa\xd1\xa1\xd7\xf9\r\n                  </a></li>\r\n            <li><a rel="nofollow" titledec="\xcd\xcb\xc6\xb1\xb8\xc4\xc7\xa9" id="c_ph_flightorderlist_f" href="http://my.ctrip.com/Home/Order/FlightOrderList.aspx">\xcd\xcb\xc6\xb1\xb8\xc4\xc7\xa9\r\n                  </a></li>\r\n            <li><a rel="nofollow" titledec="\xbb\xfa\xb3\xa1\xb9\xa5\xc2\xd4" id="c_ph_airportguides_f" href="http://flights.ctrip.com/booking/airport-guides.html">\xbb\xfa\xb3\xa1\xb9\xa5\xc2\xd4\r\n                  </a></li>\r\n            <li><a titledec="\xbb\xfa\xb3\xa1\xb0\xcd\xca\xbf" id="c_ph_airbus_t" href="http://airbus.ctrip.com#ctm_ref=arb_hp_flt_nang">\xbb\xfa\xb3\xa1\xb0\xcd\xca\xbf\r\n                  </a></li>\r\n            <li><a titledec="\xb9\xab\xce\xf1\xd4\xb1\xcd\xa8\xb5\xc0" id="c_ph_gwytd_f" href="http://flights.ctrip.com/Domestic/Civs">\xb9\xab\xce\xf1\xd4\xb1\xcd\xa8\xb5\xc0<i class="cui_ico_new" style="left:55px;"></i></a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/FlightOrderList.aspx">\xbb\xfa\xc6\xb1\xb6\xa9\xb5\xa5 &gt;\r\n              </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_trains"><a titledec="\xbb\xf0\xb3\xb5" class="cui_nav_has" id="c_ph_train" href="http://trains.ctrip.com"><b></b><span>\xbb\xf0\xb3\xb5</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav">\r\n            <li><a titledec="\xb9\xfa\xc4\xda\xbb\xf0\xb3\xb5\xc6\xb1" id="c_ph_train_t" href="http://trains.ctrip.com">\xb9\xfa\xc4\xda\xbb\xf0\xb3\xb5\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xb9\xfa\xbc\xca&#x2022;\xcc\xa8\xcd\xe5\xbb\xf0\xb3\xb5\xc6\xb1" id="c_ph_traino_t" href="http://rails.ctrip.com">\xb9\xfa\xbc\xca&#x2022;\xcc\xa8\xcd\xe5\xbb\xf0\xb3\xb5\xc6\xb1\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/RailwayOrderList.aspx">\xbb\xf0\xb3\xb5\xc6\xb1\xb6\xa9\xb5\xa5 &gt;\r\n                  </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_destination"><a titledec="\xc6\xfb\xb3\xb5\xc6\xb1" class="cui_nav_has" id="c_ph_bus" href="http://Bus.ctrip.com"><span>\xc6\xfb\xb3\xb5\xc6\xb1</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav">\r\n            <li><a titledec="\xc6\xfb\xb3\xb5\xc6\xb1" id="c_ph_bus_t" href="http://Bus.ctrip.com">\xc6\xfb\xb3\xb5\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xbb\xfa\xb3\xa1\xb0\xcd\xca\xbf" id="c_ph_airbus_t" href="http://airbus.ctrip.com#ctm_ref=arb_hp_bus_nang">\xbb\xfa\xb3\xa1\xb0\xcd\xca\xbf\r\n                  </a></li>\r\n            <li><a titledec="\xc2\xd6\xb4\xac" id="c_ph_ship_t" href="http://Bus.ctrip.com/ship">\xc2\xd6\xb4\xac<i class="cui_ico_new" style="left:12px;"></i></a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/QicheOrderlist.aspx">\xc6\xfb\xb3\xb5\xc6\xb1\xb6\xa9\xb5\xa5 &gt;\r\n              </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_car"><a titledec="\xd3\xc3\xb3\xb5" href="http://car.ctrip.com/#ctm_ref=chp_var_txt" class="cui_nav_hotel cui_nav_has" id="c_ph_car"><span>\xd3\xc3\xb3\xb5</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav">\r\n            <li><a titledec="\xd3\xc3\xb3\xb5\xca\xd7\xd2\xb3" id="c_ph_car_c" href="http://car.ctrip.com#ctm_ref=chp_var_txt">\xd3\xc3\xb3\xb5\xca\xd7\xd2\xb3\r\n                  </a></li>\r\n            <li><a titledec="\xb9\xfa\xbc\xca\xd7\xe2\xb3\xb5" id="c_ph_hwzj_c" href="http://car.ctrip.com/hwzijia#ctm_ref=chp_var_txt">\xb9\xfa\xbc\xca\xd7\xe2\xb3\xb5<i class="cui_ico_tehui"></i></a></li>\r\n            <li><a titledec="\xb9\xfa\xbc\xca\xbd\xd3\xcb\xcd\xbb\xfa" id="c_ph_hwdaijia_c" href="http://car.ctrip.com/hwdaijia#ctm_ref=chp_var_txt">\xb9\xfa\xbc\xca\xbd\xd3\xcb\xcd\xbb\xfa<i class="cui_ico_new" style="left:56px;"></i></a></li>\r\n            <li><a titledec="\xb9\xfa\xc4\xda\xd7\xe2\xb3\xb5" id="c_ph_zj_c" href="http://car.ctrip.com/zijia#ctm_ref=chp_var_txt">\xb9\xfa\xc4\xda\xd7\xe2\xb3\xb5\r\n                  </a></li>\r\n            <li><a titledec="\xb9\xfa\xc4\xda\xbd\xd3\xcb\xcd\xbb\xfa/\xd7\xa8\xb3\xb5" id="c_ph_daijia_c" href="http://car.ctrip.com/daijia#ctm_ref=chp_var_txt">\xb9\xfa\xc4\xda\xbd\xd3\xcb\xcd\xbb\xfa/\xd7\xa8\xb3\xb5\r\n                  </a></li>\r\n            <li><a titledec="\xc8\xd5\xd7\xe2\xb0\xfc\xb3\xb5" id="c_ph_rizu_c" href="http://car.ctrip.com/dayweb">\xc8\xd5\xd7\xe2\xb0\xfc\xb3\xb5\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/CarOrderList.aspx">\xd3\xc3\xb3\xb5\xb6\xa9\xb5\xa5 &gt;\r\n              </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_ticket"><a titledec="\xc3\xc5\xc6\xb1" class="cui_nav_has" id="c_ph_piao" href="http://piao.ctrip.com"><b></b><span>\xc3\xc5\xc6\xb1</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav">\r\n            <li><a titledec="\xb9\xfa\xc4\xda\xc3\xc5\xc6\xb1" id="c_ph_piao_p" href="http://piao.ctrip.com/?clear=t#ctm_ref=tkt_home_tab_inland">\xb9\xfa\xc4\xda\xc3\xc5\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xba\xa3\xcd\xe2\xc3\xc5\xc6\xb1" id="c_ph_piaooversea_p" href="http://piao.ctrip.com/oversea#ctm_ref=tkt_home_tab_oversea">\xba\xa3\xcd\xe2\xc3\xc5\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xb5\xb1\xb5\xd8\xcd\xe6\xc0\xd6" id="c_ph_huodong_p" href="http://huodong.ctrip.com#ctm_ref=ctr_hp_ttd">\xb5\xb1\xb5\xd8\xcd\xe6\xc0\xd6<i class="cui_ico_new" style="left:42px;"></i></a></li>\r\n            <li><a titledec="\xb3\xf6\xbe\xb3WiFi" id="c_ph_wifi_p" href="http://huodong.ctrip.com/wifi#ctm_ref=ctr_hp_wifi">\xb3\xf6\xbe\xb3WiFi\r\n                  </a></li>\r\n            <li><a titledec="\xd6\xdc\xc4\xa9\xd3\xce" id="c_ph_around_p" href="http://you.ctrip.com/around#ctm_ref=gs-990123-290801-0-02-M001|0|0">\xd6\xdc\xc4\xa9\xd3\xce\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/PiaoOrderlist.aspx">\xc3\xc5\xc6\xb1\xb6\xa9\xb5\xa5 &gt;\r\n              </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_tuan"><a class="cui_nav_has" id="c_ph_tuan" href="http://tuan.ctrip.com"><span>\xcd\xc5\xb9\xba</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav">\r\n            <li><a titledec="\xcd\xc5\xb9\xba\xca\xd7\xd2\xb3" id="c_ph_tuan_tu" href="http://tuan.ctrip.com">\xcd\xc5\xb9\xba\xca\xd7\xd2\xb3\r\n                  </a></li>\r\n            <li><a titledec="\xbe\xc6\xb5\xea" id="c_ph_tuanhotel_tu" href="http://tuan.ctrip.com/hotel/">\xbe\xc6\xb5\xea\r\n                  </a></li>\r\n            <li><a titledec="\xc3\xc5\xc6\xb1" id="c_ph_tuanticket_tu" href="http://tuan.ctrip.com/ticket/">\xc3\xc5\xc6\xb1\r\n                  </a></li>\r\n            <li><a titledec="\xc2\xc3\xd3\xce" id="c_ph_tuantravel_tu" href="http://tuan.ctrip.com/travel/">\xc2\xc3\xd3\xce\r\n                  </a></li>\r\n            <li><a titledec="\xc3\xc0\xca\xb3" id="c_ph_tuanlife_tu" href="http://tuan.ctrip.com/life/">\xc3\xc0\xca\xb3\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/GroupOrderList.aspx">\xcd\xc5\xb9\xba\xb6\xa9\xb5\xa5 &gt;\r\n              </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_destination01"><a titledec="\xb9\xa5\xc2\xd4" class="cui_nav_non" id="c_ph_you" href="http://you.ctrip.com"><b></b><span>\xb9\xa5\xc2\xd4</span></a></li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_g"><a titledec="\xc8\xab\xc7\xf2\xb9\xba" class="cui_nav_has" id="c_ph_go" href="http://g.ctrip.com"><b></b><span>\xc8\xab\xc7\xf2\xb9\xba</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav" id="div_global">\r\n            <li><a titledec="\xc3\xfb\xb5\xea\xb9\xba" id="c_ph_mdg_g" href="http://g.ctrip.com">\xc3\xfb\xb5\xea\xb9\xba\r\n                  </a></li>\r\n            <li><a titledec="\xcb\xe6\xd0\xd0\xb9\xba" id="c_ph_yeg_g" href="http://g.ctrip.com/mall">\xcb\xe6\xd0\xd0\xb9\xba\r\n                  </a></li>\r\n          </ul>\r\n        </div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_lpk"><a class="cui_nav_has" id="c_ph_lipin" href="http://lipin.ctrip.com"><span>\xc0\xf1\xc6\xb7\xbf\xa8</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav">\r\n            <li><a titledec="\xc0\xf1\xc6\xb7\xbf\xa8" id="c_ph_lipin_l" href="http://lipin.ctrip.com">\xc0\xf1\xc6\xb7\xbf\xa8\xca\xd7\xd2\xb3\r\n                  </a></li>\r\n            <li><a titledec="\xc0\xf1\xc6\xb7\xbf\xa8\xcc\xd7\xb2\xcd" id="c_ph_xcb_l" href="http://lipin.ctrip.com/xcb">\xc0\xf1\xc6\xb7\xbf\xa8\xcc\xd7\xb2\xcd\r\n                  </a></li>\r\n            <li><a titledec="\xb4\xe6\xbf\xee\xd6\xa4\xc3\xf7" id="c_ph_ckzm_l" href="http://jr.ctrip.com/deposit/deposit/index">\xb4\xe6\xbf\xee\xd6\xa4\xc3\xf7\r\n                  </a></li>\r\n          </ul><a class="cui_ico_order" rel="nofollow" href="http://my.ctrip.com/Home/Order/TicketOrderList.aspx">\xc0\xf1\xc6\xb7\xbf\xa8\xb6\xa9\xb5\xa5 &gt;\r\n                  </a></div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_sl"><a titledec="\xc9\xcc\xc2\xc3" class="cui_nav_has" id="c_ph_crptravel" href="http://ct.ctrip.com"><b></b><span>\xc9\xcc\xc2\xc3</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav" id="div_crptravel">\r\n            <li><a titledec="\xc9\xcc\xc2\xc3\xca\xd7\xd2\xb3" id="c_ph_slsy_s" href="http://ct.ctrip.com">\xc9\xcc\xc2\xc3\xca\xd7\xd2\xb3\r\n                  </a></li>\r\n            <li><a titledec="\xc6\xf3\xd2\xb5\xb2\xee\xc2\xc3\xc6\xbd\xcc\xa8" id="c_ph_chl_s" href="http://ct.ctrip.com/crptravel/default/landing">\xc6\xf3\xd2\xb5\xb2\xee\xc2\xc3\xc6\xbd\xcc\xa8<i class="cui_ico_hot" style="left:70px;"></i></a></li>\r\n            <li><a titledec="\xbb\xe1\xd2\xe9\xc2\xc3\xd3\xce" id="c_ph_hj_s" href="http://mice.ctrip.com">\xbb\xe1\xd2\xe9\xc2\xc3\xd3\xce\r\n                  </a></li>\r\n          </ul>\r\n        </div>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li id="cui_nav_more"><a rel="nofollow" id="a_moreLink" titledec="\xb8\xfc\xb6\xe0" class="cui_nav_more cui_nav_has" href="http://jifen.ctrip.com/rewards"><span>\xb8\xfc\xb6\xe0</span><i class="cui_ico_triangle"></i></a><div class="cui_subnav_wrap">\r\n          <ul class="cui_sub_nav" id="div_more">\r\n            <li><a titledec="\xbb\xfd\xb7\xd6\xc9\xcc\xb3\xc7" rel="nofollow" id="c_ph_rewards_m" href="http://jifen.ctrip.com/rewards">\xbb\xfd\xb7\xd6\xc9\xcc\xb3\xc7\r\n                  </a></li>\r\n            <li><a titledec="\xba\xcf\xd7\xf7\xbf\xa8" rel="nofollow" id="c_ph_cards_m" href="http://cards.ctrip.com">\xba\xcf\xd7\xf7\xbf\xa8\r\n                  </a></li>\r\n          </ul>\r\n        </div>\r\n      </li>\r\n      <li class="divider divider_spec"></li>\r\n      <li id="cui_nav_cruise"><a titledec="\xd3\xca\xc2\xd6" class="cui_nav_non" id="c_ph_youlun" href="http://cruise.ctrip.com"><b></b><span>\xd3\xca\xc2\xd6</span></a></li>\r\n      <li class="divider divider_spec"></li>\r\n      <li id="cui_nav_cruise_skysea"><a titledec="\xcc\xec\xba\xa3\xd3\xca\xc2\xd6" class="cui_nav_non" id="c_ph_skysea" href="http://cruise.ctrip.com/skysea"><span>\xcc\xec\xba\xa3\xd3\xca\xc2\xd6</span><i class="cui_ico_new" style="left:54px;top:-9px;"></i></a></li>\r\n      <li id="loginDivLi" class="cui_nav_myctrip cui_content">\r\n        <ul class="cui_myctrip_log" style="display:block;" id="ulCTFullMC">\r\n          <li class="userLogin" id="div_User"></li>\r\n          <li class="myctrip" style="margin-top:0;"><span id="div_MyCtrip"></span><ul class="cui_account cui_account_login" id="loginDiv" style="display:none;">\r\n              <li>\r\n                <div id="div_Loginbtn"></div>\r\n              </li>\r\n              <li class="cui_account_info"><a rel="nofollow" href="http://my.ctrip.com/home/Order/AllOrder.aspx">\xc8\xab\xb2\xbf\xb6\xa9\xb5\xa5\r\n                      </a></li>\r\n              <li class="divider"></li>\r\n              <li class="account_order">\r\n                <ul>\r\n                  <li><a rel="nofollow" href="http://my.ctrip.com/Home/Order/FlightOrderList.aspx">\xbb\xfa\xc6\xb1\xb6\xa9\xb5\xa5\r\n                          </a></li>\r\n                  <li><a rel="nofollow" href="http://my.ctrip.com/Home/Order/HotelOrderList.aspx">\xbe\xc6\xb5\xea\xb6\xa9\xb5\xa5\r\n                          </a></li>\r\n                  <li><a rel="nofollow" href="http://my.ctrip.com/Home/Order/PkgOrderList.aspx">\xc2\xc3\xd3\xce\xb6\xa9\xb5\xa5\r\n                          </a></li>\r\n                  <li><a rel="nofollow" href="http://my.ctrip.com/Home/Order/RailwayOrderList.aspx">\xbb\xf0\xb3\xb5\xc6\xb1\xb6\xa9\xb5\xa5\r\n                          </a></li>\r\n                  <li><a rel="nofollow" class="gray" href="http://my.ctrip.com/home/FastOrder/OrderSearch.aspx">\xca\xd6\xbb\xfa\xba\xc5\xb2\xe9\xb6\xa9\xb5\xa5\r\n                          </a></li>\r\n                </ul>\r\n              </li>\r\n              <li class="divider"></li>\r\n              <li><a rel="nofollow" href="https://secure.ctrip.com/Payment-Base-PaymentPwd/Wallet/View/MyWalletIndex.aspx">\xd0\xaf\xb3\xcc\xc7\xae\xb0\xfc\r\n                      </a></li>\r\n              <li><a rel="nofollow" href="https://sinfo.ctrip.com/MyInfo/AccountCenter/UserInfoUpdate.aspx">\xb8\xf6\xc8\xcb\xd6\xd0\xd0\xc4\r\n                      </a></li>\r\n              <li><a rel="nofollow" href="https://smarket.ctrip.com/Promocode/zh-cn/Promocode.aspx">\xc6\xb1\xc8\xaf\xd3\xeb\xbb\xfd\xb7\xd6\r\n                      </a></li>\r\n              <li><a rel="nofollow" href="http://my.ctrip.com/Home/Passenger/PassengerList.aspx">\xb3\xa3\xd3\xc3\xd0\xc5\xcf\xa2\r\n                      </a></li>\r\n            </ul>\r\n          </li>\r\n          <li class="message" id="div_MyCTMessages"></li>\r\n        </ul>\r\n        <ul class="cui_myctrip_log" style="display:none;" id="ulCTMinMC">\r\n          <li class="userLogin" id="div_User"></li>\r\n          <li class="myctrip" style="margin-top:0;"><span id="div_MyCtrip"></span><ul class="cui_account cui_account_login" id="loginDiv" style="display:none;">\r\n              <li>\r\n                <div id="div_Loginbtn"></div>\r\n              </li>\r\n              <li class="cui_account_info"><a rel="nofollow" href="http://my.ctrip.com/home/Order/AllOrder.aspx">\xc8\xab\xb2\xbf\xb6\xa9\xb5\xa5\r\n                      </a></li>\r\n              <li><a rel="nofollow" class="gray" href="http://my.ctrip.com/home/FastOrder/OrderSearch.aspx">\xca\xd6\xbb\xfa\xba\xc5\xb2\xe9\xb6\xa9\xb5\xa5\r\n                      </a></li>\r\n            </ul>\r\n          </li>\r\n          <li class="message" id="div_MyCTMessages"></li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n  </div><input type="hidden" id="siteDomainHeadFloat" value="ctrip"><input type="hidden" id="bsType" value="0"><div id="nav_bh" class="cui_nav_behind" style="display:none;height:0px;"></div>\r\n</div><input type="hidden" id="popfloating_isshow" value="0"><script type="text/javascript">\r\n/**\r\n * Ctrip JavaScript Code\r\n * ")
sys.sleep(runif(1)*3)
Sys.sleep(runif(1)*3)
a = "1581048700
1581051439
1581052686
1581055708
1581057854
1581252651
1581253461"
a = strsplit(a,"\n")
print(a)
print(a)
a = "1581048700
1581051439
1581052686
1581055708
1581057854
1581252651
1581253461"
a = strsplit(a,"\t\n")
print(a)
a = "1581048700
1581051439
1581052686
1581055708
1581057854
1581252651
1581253461"
cancelHotel = function(a){
a = strsplit(a,"\t\n")
print(a)
hotelid = a[[1]]
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
openUrl = function(url){
Sys.sleep(runif(1)*3)
browseURL(url)
}
sapply(urls,openUrl)
}
cancelHotel()
cancelHotel(a)
a = "1581048700
1581051439
1581052686
1581055708
1581057854
1581252651
1581253461"
cancelHotel = function(a){
a = strsplit(a,"\t\n")
print(a)
hotelid = a[[1]]
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
Sys.sleep(runif(1)*3)
browseURL(url)
}
}
cancelHotel(a)
a = "1581048700
1581051439
1581052686
1581055708
1581057854
1581252651
1581253461"
cancelHotel = function(a){
a = strsplit(a,"\t\n")
print(a)
hotelid = a[[1]]
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
Sys.sleep(runif(1)*10)
browseURL(url)
}
}
cancelHotel(a)
new1.numeric = function(a){
summary(a)
}
new1.character = function(a){
cat(a)
}
new1 = function(a) UseMethod(a)
setMethod("new1","numeric",new1.numeric)
setMethod("new1","character",new1.character)
new1(1:3)
new1(1:5)
summary(rep(Sys.Date(),10))
summary.Date()
summary.Date
try(a=1)
try(expr = "a=1")
a
try(expr = a=1)
try(expression(a=1))
a
?try
try(log("a"))
try(log(10))
try(as.expression(a=1))
try(as.expression("a=1"))
a
try(a<-1)
a
?cut
vector=1:100
table(cut(vector,quantile(vector,c(0,0.2,0.4,0.6,0.8,1))))
## 使用前先在默认浏览器上登录zdzf1@ctrip.com
## 之后复制订单号给a
a = "1585013833
1587629667
1585021402
1587630396
1587628514
1587628514
1587628514
1587628514
1587628514
"
cancelHotel = function(a){
a = strsplit(a,"\t\n")
print(a)
hotelid = a[[1]]
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
# 强迫系统暂停几秒,以防被加入黑名单
Sys.sleep(runif(1)*10)
browseURL(url)
}
}
cancelHotel(a)
cancelHotel = function(a){
a = strsplit(a,"\n")
print(a)
hotelid = a[[1]]
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
# 强迫系统暂停几秒,以防被加入黑名单
Sys.sleep(runif(1)*10)
browseURL(url)
}
}
cancelHotel(a)
## 使用前先在默认浏览器上登录zdzf1@ctrip.com
## 之后复制订单号给a
a = "1587627882
1587627882
1587627882
1587627882
1587627882
1587630396
1587630396
1587630396
1587630396
1587629775
1587629775
1587629775
1587629775
1587629775
1587629200
1587629200
1587629200
1587629200
1587629200
1587630914
1587630914
1587630914
1587630914
1587630914
1587633197
1587633197
1587633197
1587633197
1587633197
1587632512
1587632512
1587632512
1587632512
1587632512
1587632045
1587632045
1587632045
1587632045
1587632045
1587631429
1587631429
1587631429
1587631429
1587631429
1585029084
"
cancelHotel = function(a){
a = strsplit(a,"\n")
print(a)
hotelid = unique(a[[1]])
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
# 强迫系统暂停几秒,以防被加入黑名单
Sys.sleep(runif(1)*10)
browseURL(url)
}
}
cancelHotel(a)
a = "1587634001
1585014445
1587642169
1587642169
1587642491
1587642491
1587628892
1587628892
1587628892
1587628240
1587628240
1587628240
1587628575
1587628575
1587628575
1587630911
1585018644
1585018903
1585012723
1585012270
1585012270
1585012270
1585012270
1585011679
1585011679
1585011185
1585011185
1585011185
1585011185
1585011679
1585011679
1585012723
1585012723
1585012723
1587623008
1587622548
1587622548
1587623008
1585025556
1585025556
1585025012
1585025012
"
a = strsplit(a,"\n")
print(unique(a[[1]]))
cancelHotel = function(a){
a = strsplit(a,"\n")
print(unique(a[[1]]))
hotelid = unique(a[[1]])
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
# 强迫系统暂停几秒,以防被加入黑名单
Sys.sleep(runif(1)*10)
browseURL(url)
}
}
cancelHotel(a)
## 使用前先在默认浏览器上登录zdzf1@ctrip.com
## 之后复制订单号给a
a = "1587634001
1585014445
1587642169
1587642169
1587642491
1587642491
1587628892
1587628892
1587628892
1587628240
1587628240
1587628240
1587628575
1587628575
1587628575
1587630911
1585018644
1585018903
1585012723
1585012270
1585012270
1585012270
1585012270
1585011679
1585011679
1585011185
1585011185
1585011185
1585011185
1585011679
1585011679
1585012723
1585012723
1585012723
1587623008
1587622548
1587622548
1587623008
1585025556
1585025556
1585025012
1585025012
"
cancelHotel = function(a){
a = strsplit(a,"\n")
print(unique(a[[1]]))
hotelid = unique(a[[1]])
urls = paste0("http://hotels.ctrip.com/DomesticBook/ShowOrderDetail.aspx?orderid=",
hotelid,"&OperationAction=ReadOrder&RepeatAction=HotelDomestic_Repeat_ReadOrder")
for(url in urls){
# 强迫系统暂停几秒,以防被加入黑名单
Sys.sleep(runif(1)*10)
browseURL(url)
}
}
cancelHotel(a)
as.Date("1asdfa")
as.Date("2015/08/15")
as.Date("15/08/15")
